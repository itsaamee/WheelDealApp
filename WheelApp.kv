#:import utils kivy.utils

# RTM-002 // Easily navigate and locate products
        
<PageSpinner@Spinner>:
    size_hint: None, None
    size: dp(85), dp(80)
    pos_hint: {'top': 1, 'right': 1}
    background_normal: 'page_spinner_overlay_pic.png'
    values: ['Start', 'Types', 'Size', 'Tires', 'Lessons', 'Cart']
    on_text: root.parent.switch_to_page(self.text)  

<HomePage>:
    orientation: 'vertical'
    canvas.before:
        Color: 
            rgba: (.80, .87, .82, 1)
        Rectangle: 
            pos: self.pos
            size: self.size
    
    PageSpinner:

    MDBoxLayout:
        orientation: 'vertical'
        MDLabel: 
            text: "The WheelDeal"
            padding: (0, 0, 50, 0)
            font_size: 80
            bold: True
            color: 'black'
            font_name: "Roboto"
            halign: 'center' 
            valign: 'middle'
            size_hint_y: None
            height: self.texture_size[1] * 1.5

        MDLabel: 
            text: "We Match You To Your Perfect Bike"
            font_size: 40
            color: 'black'
            font_name: "Roboto"
            halign: 'center'
            valign: 'middle'
            size_hint_y: None
            height: self.texture_size[1]

        # image used from https://www.freepik.com/free-photo/male-cyclist-riding-bicycle-mountains_27071628.htm#query=bike&position=3&from_view=author%22%3EImage 
        Image:
            source: 'mountain_bike_pic.png' 
            size_hint: (1, None)
            allow_stretch: False  
            keep_ratio: True  
            height: self.parent.width * 0.7

        GridLayout:
            size: self.width, self.height
            cols: 1
            padding: 25
            spacing: 25

            MDBoxLayout:
                orientation: "horizontal"
                spacing: 75
            
                MDLabel:
                    text: '       Sign in or\nCreate an Account'
                    font_size: 35
                    color: 'black'
                    font_name: 'Roboto'
                    col: 0

                MDBoxLayout:
                    orientation: "vertical"
                    MDTextField:
                        hint_text: "Username"
                        icon_right: "account"
                        multiline: False
                        font_size: 24
                    MDTextField:
                        hint_text: "Password"
                        icon_right: "eye-off"
                        multiline: False
                        password: True
                        font_size: 24
            
            MDBoxLayout:
                orientation: "horizontal"
                spacing: 100
                padding: 50
            
                MDRaisedButton:
                    padding: 50
                    size_hint_y: 2.5
                    text: "Register Here"
                    font_size: 25
                    text_color: 1, 1, 1, 1
                    md_bg_color: (.47, .43, .26, 1)
                    elevation: 3
                    on_release: root.go_to_register_page()

                MDRaisedButton:
                    text: "Submit"
                    size_hint_y: 2.5
                    size_hint_x: 0.6
                    font_size: 25
                    text_color: 1, 1, 1, 1
                    md_bg_color: (.47, .43, .26, 1)
                    elevation: 3
                    on_release: root.go_to_welcome_page()
        
            # MDBoxLayout:
                #orientation: "horizontal"
                #MDLabel: 
                    #text: "  Talk to Us\ninfo@wheeldeal.com"
                    #color: "black"     
                    #pos_hint_x: 1

                #MDLabel: 
                    #text: "  Talk to Us\ninfo@wheeldeal.com"
                    #color: "black"     
                    #pos_hint_x: 1

# RTM-010 // add new user accounts
<RegisterPage>:
    canvas.before:
        Color: 
            rgba: (.80, .87, .82, 1)
        Rectangle: 
            pos: self.pos
            size: self.size
        
    MDBoxLayout:
        orientation: "vertical"
        padding: 15
        spacing: 10
        
        GridLayout:
            size: self.width, self.height
            cols: 1
            MDBoxLayout:
                padding: 3
                orientation: 'horizontal'
                MDLabel:
                    text: 'First Name'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                MDTextField:
                    id: first
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

            MDBoxLayout:
                orientation: 'horizontal'
                padding: 3
                MDLabel:
                    text: 'Last Name'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                MDTextField:
                    id: last
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

            MDBoxLayout:
                padding: 3
                orientation: 'horizontal'
                MDLabel:
                    text: 'Email'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                MDTextField:
                    id: email
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

            MDBoxLayout:
                orientation: 'horizontal' 
                padding: 3   
                MDLabel:
                    text: "Shipping Address"
                    color: 'black'
                    bold: True
                    font_size: 25
                    size_hint_x: 0.3
                    
                MDLabel:
                    text: ""
                    size_hint_x: 0.7

            MDBoxLayout:
                padding: 3
                orientation: 'horizontal'
                MDLabel:
                    text: 'Street'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                MDTextField:
                    id: street
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

            MDBoxLayout:
                orientation: 'horizontal'
                padding: 3
                MDLabel:
                    text: 'House/APT'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                MDTextField:
                    id: house
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7
            
            MDBoxLayout:
                orientation: 'horizontal'
                padding: 3
                MDLabel:
                    text: 'City'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                MDTextField:
                    id: city
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

            MDBoxLayout:
                orientation: 'horizontal'
                padding: 3
                MDLabel:
                    text: 'State'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                MDTextField:
                    id: state
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

            MDBoxLayout:
                orientation: 'horizontal'
                padding: 3
                MDLabel:
                    text: 'Zip Code'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                MDTextField:
                    id: zip
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

            MDBoxLayout:
                orientation: 'horizontal'    
                MDLabel:
                    text: "Billing Address"
                    color: 'black'
                    bold: True
                    font_size: 25
                    
                MDLabel:
                    text: "Same as Shipping"
                    color: 'black'
                    bold: True
                    font_size: 25
                    
                MDCheckbox:
                    size_hint: None, None
                    size: "55dp", "55dp"
                    active: False
                    color: 'black'
                    on_active: root.same_as_shipping()

            MDBoxLayout:
                padding: 3
                orientation: 'horizontal'
                MDLabel:
                    text: 'Street'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                MDTextField:
                    id: billing_street
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

            MDBoxLayout:
                orientation: 'horizontal'
                padding: 3
                MDLabel:
                    text: 'House/APT'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                MDTextField:
                    id: billing_house
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7
            
            MDBoxLayout:
                orientation: 'horizontal'
                padding: 3
                MDLabel:
                    text: 'City'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                MDTextField:
                    id: billing_city
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

            MDBoxLayout:
                orientation: 'horizontal'
                padding: 3
                MDLabel:
                    text: 'State'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                MDTextField:
                    id: billing_state
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

            MDBoxLayout:
                orientation: 'horizontal'
                padding: 3
                MDLabel:
                    text: 'Zip Code'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                MDTextField:
                    id: billing_zip
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

            MDRaisedButton:
                pos_hint: {'center_x': 0.5}
                size_hint: (0.7, 2)
                text: "Submit"
                font_size: 25
                text_color: 1, 1, 1, 1
                md_bg_color: (.47, .43, .26, 1)
                elevation: 3
                on_release: 
                    root.go_to_password_page()
                    root.submit_to_db()

<PasswordPage>:
    canvas.before:
        Color: 
            rgba: (.80, .87, .82, 1)
        Rectangle: 
            pos: self.pos
            size: self.size
    
    MDCard:
        orientation: "vertical"
        size_hint: 0.7, 0.7
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        elevation: 3
        padding: 25
        spacing: 25
        orientation: "vertical"

        MDBoxLayout:
            MDTextField:
                hint_text: "Choose Username"
                icon_right: "account"
                multiline: False
                font_size: 24
                size_hint_x: 0.6

        MDBoxLayout:
            MDTextField:
                hint_text: "Choose Password"
                icon_right: "eye-off"
                multiline: False
                font_size: 24
                size_hint_x: 0.6

        MDBoxLayout:
            orientation: "horizontal"
            MDTextField:
                hint_text: "Confirm Password"
                multiline: False
                icon_right: "eye-off"
                font_size: 25
                size_hint_x: 0.6
            
        MDBoxLayout:
            orientation: "horizontal"
            padding: 20
            spacing: 20

            MDRaisedButton:
                text: "Submit"
                size_hint_y: 1
                size_hint_x: 0.6
                font_size: 25
                text_color: 1, 1, 1, 1
                md_bg_color: (.47, .43, .26, 1)
                elevation: 3
                disabled: False
                on_release: 
                    root.account_creation_label(),
                    proceed_button.disabled = False
                    self.disabled= True

            MDRaisedButton:
                text: "Proceed"
                id: proceed_button
                size_hint_y: 1
                size_hint_x: 0.6
                font_size: 25
                text_color: 1, 1, 1, 1
                md_bg_color: (.47, .43, .26, 1)
                elevation: 3
                disabled: True
                on_release: root.go_to_welcome_page()
            
        MDBoxLayout:
            MDLabel:
                id: success_label
                text: ""
                font_size: 25



<WelcomePage>:
    canvas.before:
        Color: 
            rgba: (.80, .87, .82, 1)
        Rectangle: 
            pos: self.pos
            size: self.size

    PageSpinner:

    MDBoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 10

        Image:
            source: 'mountain_bike_pic.png' 
            size_hint: (1, None)
            allow_stretch: False  
            keep_ratio: True  
            height: self.parent.width * 0.7

        MDLabel:
            text: "   Where would you like to start?"
            color: "black"
            bold: True
            font_size: 48
            italic: True
            size_hint: (1, 0.2)
            pos_hint: {'x': 0, 'top': 0.9}
            

        MDBoxLayout: 
            orientation: "vertical"
            spacing: 8
        
            MDRaisedButton:
                text: "Choose a Bike"
                elevation: 4
                font_size: 38
                italic: True
                md_bg_color: (.47, .43, .26, 1)
                size_hint: (1, 0.3)
                pos_hint: {"x": 0 ,"top": 0.6}
                on_release: root.go_to_bike_types()
            
            MDRaisedButton:
                text: "Bike Lessons"
                elevation: 4
                font_size: 38
                italic: True
                md_bg_color: (.47, .43, .26, 1)
                size_hint: (1, 0.3)
                pos_hint: {"x": 0 ,"top": 0.6}
                on_press: root.go_to_bike_lessons()

<BikeTypes>:
    canvas.before:
        Color: 
            rgba: (.80, .87, .82, 1)
        Rectangle: 
            pos: self.pos
            size: self.size

    PageSpinner:

    MDBoxLayout:
        size: self.width, self.height
        orientation: 'vertical'
        padding: 10
        spacing: 10
    

        MDLabel:
            text: "  What type of bike are you looking for?"
            font_size: 40
            color: 'black'
            bold: True

        MDRaisedButton:
            size_hint: (1, 0.3)
            text: "Mountain"
            elevation: 3
            font_size: 35
            md_bg_color: (.47, .43, .26, 1)
            on_release: root.go_to_bike_size()

        MDRaisedButton:
            size_hint: (1, 0.3)
            text: "Beach"
            elevation: 3
            font_size: 35
            md_bg_color: (.47, .43, .26, 1)
            on_release: root.go_to_bike_size()

        MDRaisedButton:
            size_hint: (1, 0.3)
            text: "BMX"
            elevation: 3
            font_size: 35
            md_bg_color: (.47, .43, .26, 1)
            on_release: root.go_to_bike_size()

        MDRaisedButton:
            size_hint: (1, 0.3)
            text: "Road"
            elevation: 3
            font_size: 35
            md_bg_color: (.47, .43, .26, 1)
            on_release: root.go_to_bike_size()

        MDRaisedButton:
            size_hint: (1, 0.3)
            text: "Cruiser"
            elevation: 3
            font_size: 35
            md_bg_color: (.47, .43, .26, 1)
            on_release: root.go_to_bike_size()


# RTM-003 // bike size
<BikeSize>:
    canvas.before:
        Color: 
            rgba: (.80, .87, .82, 1)
        Rectangle: 
            pos: self.pos
            size: self.size

    PageSpinner:

    MDBoxLayout:
        size: self.size
        orientation: 'vertical'
        padding: 10
        spacing: 10
    
        MDLabel:
            padding: (0, 90, 0, 0)
            text: "What size are you looking for?"
            font_size: 45
            color: 'black'
            bold: True
            halign: 'center'
            valign: 'middle'

        #MDLabel:
         #   text: "Use the size chart below to help you pick"
          #  font_size: 40
           # color: 'black'
            #bold: False
            #halign: 'center'
            #valign: 'middle'
        
        MDLabel:
            text: "Your height = Frame size in inches = Bike Size"
            font_size: 34
            color: 'black'
            bold: False
            halign: 'center'
            valign: 'middle'
        
        MDRaisedButton:
            size_hint: (1, 0.4)
            text: "4’11″–5’3″ = 13–15 inches = X-Small"
            elevation: 3
            font_size: 35
            md_bg_color: (.47, .43, .26, 1)
            on_release: root.go_to_bike_tires()

        MDRaisedButton:
            size_hint: (1, 0.4)
            text: "5’3″–5’7″ = 15–16 inches = Small"
            elevation: 3
            font_size: 35
            md_bg_color: (.47, .43, .26, 1)
            on_release: root.go_to_bike_tires()

        MDRaisedButton:
            size_hint: (1, 0.4)
            text: "5’7″–5’11” = 16–17 inches = Medium"
            elevation: 3
            font_size: 35
            md_bg_color: (.47, .43, .26, 1)
            on_release: root.go_to_bike_tires()

        MDRaisedButton:
            size_hint: (1, 0.4)
            text: "6’0″–6’2″ = 17–19 inches = Large"
            elevation: 3
            font_size: 35
            md_bg_color: (.47, .43, .26, 1)
            on_release: root.go_to_bike_tires()

        MDRaisedButton:
            size_hint: (1, 0.4)
            text: "6’2″–6’4″ = 19–21 inches = X-Large"
            elevation: 3
            font_size: 35
            md_bg_color: (.47, .43, .26, 1)
            on_release: root.go_to_bike_tires()

        MDRaisedButton:
            size_hint: (1, 0.4)
            text: "6’4″ and taller = 21+ inches = XX-Large"
            elevation: 3
            font_size: 35
            md_bg_color: (.47, .43, .26, 1)
            on_release: root.go_to_bike_tires()

<Tires>:
    canvas.before:
        Color: 
            rgba: (.80, .87, .82, 1)
        Rectangle: 
            pos: self.pos
            size: self.size

    PageSpinner:

    MDBoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        MDLabel: 
            padding: (0, 50, 0, 0)
            text: "Choose your tires"
            font_size: 45
            color: 'black'
            bold: True
            halign: 'center'
            valign: 'middle'

        MDRaisedButton:
            size_hint: (1, 0.5)
            text: "Cross Country"
            elevation: 3
            font_size: 35
            md_bg_color: (.47, .43, .26, 1)
            on_release: root.go_to_options()

        MDRaisedButton:
            size_hint: (1, 0.5)
            text: "Down Country"
            elevation: 3
            font_size: 35
            md_bg_color: (.47, .43, .26, 1)
            on_release: root.go_to_options()

        MDRaisedButton:
            size_hint: (1, 0.5)
            text: "Trail"
            elevation: 3
            font_size: 35
            md_bg_color: (.47, .43, .26, 1)
            on_release: root.go_to_options()

        MDRaisedButton:
            size_hint: (1, 0.4)
            text: "All Mountain"
            elevation: 3
            font_size: 35
            md_bg_color: (.47, .43, .26, 1)
            on_release: root.go_to_options()

        MDRaisedButton:
            size_hint: (1, 0.5)
            text: "Enduro"
            elevation: 3
            font_size: 35
            md_bg_color: (.47, .43, .26, 1)
            on_release: root.go_to_options()

# RTM-004 // Options to purchase
<BikeOptions>:
    canvas.before:
        Color: 
            rgba: (.80, .87, .82, 1)
        Rectangle: 
            pos: self.pos
            size: self.size

    PageSpinner:

    MDBoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        MDLabel: 
            padding: (0, 100, 0, 0)
            text: "Based on your selections\nHere are the bikes available"
            font_size: 45
            color: 'black'
            bold: True
            halign: 'center'
            valign: 'middle'

        GridLayout:
            padding: 10
            height: self.minimum_height
            cols: 2
            rows: 2

<BikeLessons>:
    canvas.before:
        Color: 
            rgba: (.80, .87, .82, 1)
        Rectangle: 
            pos: self.pos
            size: self.size
    # PageSpinner:

    MDBoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10
        
        MDLabel:
            text: "Lesson Page"
            size_hint: (1, 0.1)
            pos_hint: {'x': 0, 'top': 0.9}
            font_size: 30

        MDLabel:
            text: 'Here at WheelDeal, we offer lessons for learning to ride \nyour new bike.  All lessons are held daily at 10:00 AM.  \nMake a date selection below to purchase a lesson'
            font_size: 30
            size_hint: (1, 0.4)
            pos_hint: {'x': 0, 'top': 0.4}

        MDLabel: 
            text: "DatePicker\nPlaceholder"
            font_size: 32

        MDRaisedButton:
            elevation: 3
            text: "Back"
            font_size: 25
            size_hint_y: None
            pos_hint: {'x': 0, 'top': 0.1}
            on_release: root.go_back()

<ShoppingCart>:
    canvas.before:
        Color: 
            rgba: (.80, .87, .82, 1)
        Rectangle: 
            pos: self.pos
            size: self.size
    PageSpinner:

    MDBoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        Image:
            source: 'mountain_bike_pic.png' 
            size_hint: (1, None)
            allow_stretch: False  
            keep_ratio: True  
            height: self.parent.width * 0.7
        
        MDLabel: 
            text: "Shopping Cart"


        