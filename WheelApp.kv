#:import utils kivy.utils

# RTM-001 // Lare buttons for easy accessibility throughout layout
<RoundedButton@Button>
    background_color: (0, 0, 0, 0)
    background_normal: ""
    canvas.before: 
        Color: 
            rgba: (.47, .43, .26, 1)
        RoundedRectangle: 
            size: self.size
            pos: self.pos
            radius: [25]

# RTM-002 // Easily navigate and locate products
<PageSpinner@Spinner>:
    size_hint: None, None
    size: dp(85), dp(80)
    pos_hint: {'top': 1, 'right': 1}
    background_normal: 'page_spinner_overlay_pic.png'
    values: ['Start', 'Types', 'Size', 'Tires', 'Lessons', 'Cart']
    on_text: root.parent.switch_to_page(self.text)  

<HomePage>:
    orientation: 'vertical'
    canvas.before:
        Color: 
            rgba: (.80, .87, .82, 1)
        Rectangle: 
            pos: self.pos
            size: self.size

    PageSpinner:

    BoxLayout:
        orientation: 'vertical'
        Label: 
            text: "The WheelDeal"
            padding: (0, 0, 50, 0)
            font_size: 80
            bold: True
            color: 'black'
            font_name: "Roboto"
            halign: 'center' 
            valign: 'middle'
            size_hint_y: None
            height: self.texture_size[1] * 1.5

        Label: 
            text: "We Match You To Your Perfect Bike"
            font_size: 40
            color: 'black'
            font_name: "Roboto"
            halign: 'center'
            valign: 'middle'
            size_hint_y: None
            height: self.texture_size[1]

        # image used from https://www.freepik.com/free-photo/male-cyclist-riding-bicycle-mountains_27071628.htm#query=bike&position=3&from_view=author%22%3EImage 
        Image:
            source: 'mountain_bike_pic.png' 
            size_hint: (1, None)
            allow_stretch: False  
            keep_ratio: True  
            height: self.parent.width * 0.7

        GridLayout:
            # height: self.minimum_height
            cols: 2
            padding: 25
            spacing: 25

            Label:
                text: '   Sign in or Create\n        an Account'
                font_size: 32
                color: 'black'
                font_name: 'Roboto'
                col: 0

            BoxLayout:
                orientation: "vertical"
                TextInput:
                    hint_text: "Username"
                    multiline: False
                    font_size: 24
                TextInput:
                    hint_text: "Password"
                    multiline: False
                    password: True
                    font_size: 24
                
            RoundedButton:
                text: "Register\n  Here!"
                font_size: 25
                col: 0
                on_press: root.go_to_register_page()

            RoundedButton:
                text: "Submit"
                font_size: 25
                col: 1
                on_press: root.go_to_welcome_page()
            
            Label: 
                text: "Talk to Us\n000-000-0000\ninfo@wheeldeal.com"
                color: "black"     

# RTM-010 // add new user accounts
<RegisterPage>:
    canvas.before:
        Color: 
            rgba: (.80, .87, .82, 1)
        Rectangle: 
            pos: self.pos
            size: self.size
        
    BoxLayout:
        orientation: "vertical"
        padding: 10
        spacing: 10
        
        GridLayout:
            size: self.width, self.height
            cols: 1
            BoxLayout:
                padding: 3
                orientation: 'horizontal'
                Label:
                    text: 'First Name'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                TextInput:
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

            BoxLayout:
                orientation: 'horizontal'
                padding: 3
                Label:
                    text: 'Last Name'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                TextInput:
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

            BoxLayout:
                padding: 3
                orientation: 'horizontal'
                Label:
                    text: 'Email'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                TextInput:
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

            BoxLayout:
                orientation: 'horizontal' 
                padding: 3   
                Label:
                    text: "Shipping Address"
                    color: 'black'
                    bold: True
                    font_size: 25
                    size_hint_x: 0.3
                    
                Label:
                    text: ""
                    size_hint_x: 0.7

            BoxLayout:
                padding: 3
                orientation: 'horizontal'
                Label:
                    text: 'Street'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                TextInput:
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

            BoxLayout:
                orientation: 'horizontal'
                padding: 3
                Label:
                    text: 'House/APT'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                TextInput:
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7
            
            BoxLayout:
                orientation: 'horizontal'
                padding: 3
                Label:
                    text: 'City'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                TextInput:
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

            BoxLayout:
                orientation: 'horizontal'
                padding: 3
                Label:
                    text: 'State'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                TextInput:
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

            BoxLayout:
                orientation: 'horizontal'
                padding: 3
                Label:
                    text: 'Zip Code'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                TextInput:
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

            BoxLayout:
                orientation: 'horizontal' 
                padding: 3   
                Label:
                    text: "Billing Address"
                    color: 'black'
                    bold: True
                    font_size: 25
                    
                Label:
                    text: "Same as Shipping"
                    color: 'black'
                    bold: True
                    font_size: 25
                    
                CheckBox:
                    active: False
                    color: 'black'

            BoxLayout:
                padding: 3
                orientation: 'horizontal'
                Label:
                    text: 'Street'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                TextInput:
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

            BoxLayout:
                orientation: 'horizontal'
                padding: 3
                Label:
                    text: 'House/APT'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                TextInput:
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7
            
            BoxLayout:
                orientation: 'horizontal'
                padding: 3
                Label:
                    text: 'City'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                TextInput:
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

            BoxLayout:
                orientation: 'horizontal'
                padding: 3
                Label:
                    text: 'State'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                TextInput:
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

            BoxLayout:
                orientation: 'horizontal'
                padding: 3
                Label:
                    text: 'Zip Code'
                    color: 'black'
                    font_size: 25
                    size_hint_x: 0.2

                TextInput:
                    multiline: False
                    font_size: 25
                    size_hint_x: 0.7

        RoundedButton:
            text: "Submit"
            font_size: 25
            size_hint_y: None
            pos_hint: {'x': 0, 'top': 0.1}
            on_release: root.go_to_welcome_page()


<WelcomePage>:
    canvas.before:
        Color: 
            rgba: (.80, .87, .82, 1)
        Rectangle: 
            pos: self.pos
            size: self.size

    PageSpinner:

    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 10

        Image:
            source: 'mountain_bike_pic.png' 
            size_hint: (1, None)
            allow_stretch: False  
            keep_ratio: True  
            height: self.parent.width * 0.7

        Label:
            text: "Where would you like to start?"
            color: "black"
            bold: True
            font_size: 48
            italic: True
            size_hint: (1, 0.2)
            pos_hint: {'x': 0, 'top': 0.9}
            

        BoxLayout: 
            orientation: "vertical"
            spacing: 8
        
            RoundedButton:
                text: "Choose a Bike"
                font_size: 38
                italic: True
                size_hint: (1, 0.3)
                pos_hint: {'x': 0, 'top': 0.6}
                on_press: root.go_to_bike_types()

            RoundedButton:
                text: "Bike Lessons"
                font_size: 38   
                italic: True
                size_hint: (1, 0.3)
                pos_hint: {'x': 0, 'top': 0.2}
                on_press: root.go_to_bike_lessons()

<BikeTypes>:
    canvas.before:
        Color: 
            rgba: (.80, .87, .82, 1)
        Rectangle: 
            pos: self.pos
            size: self.size

    PageSpinner:

    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10
    

        Label:
            text: "What type of bike\nare you looking for?"
            font_size: 50
            color: 'black'
            bold: True

        RoundedButton:
            text: 'Mountain'
            font_size: 35
            on_press: root.go_to_bike_size()

        RoundedButton:
            text: 'Beach'
            font_size: 35
            on_press: root.go_to_bike_size()

        RoundedButton: 
            text: 'BMX'
            font_size: 35
            on_press: root.go_to_bike_size()

        RoundedButton: 
            text: 'Road'
            font_size: 35
            on_press: root.go_to_bike_size()

        RoundedButton: 
            text: 'Cruiser'
            font_size: 35
            on_press: root.go_to_bike_size()

# RTM-003 // bike size
<BikeSize>:
    canvas.before:
        Color: 
            rgba: (.80, .87, .82, 1)
        Rectangle: 
            pos: self.pos
            size: self.size

    PageSpinner:

    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10
    
        Label:
            padding: (0, 110, 0, 0)
            text: "What size are you looking for?"
            font_size: 45
            color: 'black'
            bold: True
            halign: 'center'
            valign: 'middle'

        Label:
            text: "Use the size chart below to help you pick"
            font_size: 40
            color: 'black'
            bold: False
            halign: 'center'
            valign: 'middle'
        
        Label:
            text: "Your height = Frame size in inches = Bike Size"
            font_size: 34
            color: 'black'
            bold: False
            halign: 'center'
            valign: 'middle'

        RoundedButton:
            text: '4’11″–5’3″ = 13–15 inches = X-Small'
            font_size: 35
            on_press: root.go_to_bike_tires()

        RoundedButton:
            text: '5’3″–5’7″ = 15–16 inches = Small'
            font_size: 35
            on_press: root.go_to_bike_tires()

        RoundedButton: 
            text: '5’7″–5’11” = 16–17 inches = Medium'
            font_size: 35
            on_press: root.go_to_bike_tires()

        RoundedButton: 
            text: '6’0″–6’2″ = 17–19 inches = Large'
            font_size: 35
            on_press: root.go_to_bike_tires()

        RoundedButton: 
            text: '6’2″–6’4″ = 19–21 inches = X-Large'
            font_size: 35
            on_press: root.go_to_bike_tires()
        
        RoundedButton: 
            text: '6’4″ and taller = 21+ inches = XX-Large'
            font_size: 35
            on_press: root.go_to_bike_tires()

<Tires>:
    canvas.before:
        Color: 
            rgba: (.80, .87, .82, 1)
        Rectangle: 
            pos: self.pos
            size: self.size

    PageSpinner:

    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        Label: 
            padding: (0, 50, 0, 0)
            text: "Choose your tires"
            font_size: 45
            color: 'black'
            bold: True
            halign: 'center'
            valign: 'middle'

        RoundedButton:
            text: 'Cross-Country'
            font_size: 35
            on_press: root.go_to_options()

        RoundedButton:
            text: 'Downcountry'
            font_size: 35
            on_press: root.go_to_options()

        RoundedButton: 
            text: 'Trail'
            font_size: 35
            on_press: root.go_to_options()

        RoundedButton: 
            text: 'All-Mountain'
            font_size: 35
            on_press: root.go_to_options()

        RoundedButton: 
            text: 'Enduro'
            font_size: 35
            on_press: root.go_to_options()

# RTM-004 // Options to purchase
<BikeOptions>:
    canvas.before:
        Color: 
            rgba: (.80, .87, .82, 1)
        Rectangle: 
            pos: self.pos
            size: self.size

    PageSpinner:

    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        Label: 
            padding: (0, 100, 0, 0)
            text: "Based on your selections\nHere are the bikes available"
            font_size: 45
            color: 'black'
            bold: True
            halign: 'center'
            valign: 'middle'

        GridLayout:
            padding: 10
            height: self.minimum_height
            cols: 2
            rows: 2

<BikeLessons>:
    canvas.before:
        Color: 
            rgba: (.80, .87, .82, 1)
        Rectangle: 
            pos: self.pos
            size: self.size
    PageSpinner:

    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10
        
        Label:
            text: "Lesson Page"
            size_hint: (1, 0.1)
            pos_hint: {'x': 0, 'top': 0.9}
            font_size: 30

        Label:
            text: 'Here at WheelDeal, we offer lessons for learning to ride \nyour new bike.  All lessons are held daily at 10:00 AM.  \nMake a date selection below to purchase a lesson'
            font_size: 30
            size_hint: (1, 0.4)
            pos_hint: {'x': 0, 'top': 0.4}

        Label: 
            text: "DatePicker\nPlaceholder"
            font_size: 32

        RoundedButton:
            text: "Back"
            font_size: 25
            size_hint_y: None
            pos_hint: {'x': 0, 'top': 0.1}
            on_release: root.go_back()

<ShoppingCart>:
    canvas.before:
        Color: 
            rgba: (.80, .87, .82, 1)
        Rectangle: 
            pos: self.pos
            size: self.size
    PageSpinner:

    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        Image:
            source: 'mountain_bike_pic.png' 
            size_hint: (1, None)
            allow_stretch: False  
            keep_ratio: True  
            height: self.parent.width * 0.7
        
        Label: 
            text: "Shopping Cart"


        